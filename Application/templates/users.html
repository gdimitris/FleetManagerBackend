{% extends "base.html"%}

{% block head %}
<script type="text/javascript" src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.10/js/dataTables.bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.10/css/dataTables.bootstrap.min.css">


{% endblock %}

{% block body%}

{% if researchers: %}
    <div class="panel panel-default">
        <div class="panel-heading">Researchers</div>
        <table class="table table-striped" id="user-table">
            <thead>
                <th>Device ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Last Updated</th>
            </thead>
            <tbody>
                {% for researcher in researchers: %}
                    <tr>
                        <td> <a href="{{ url_for('show_device_locations', device_id=researcher.phone_id) }}">  {{ researcher.phone_id }}  </a> </td>
                        <td> {{ researcher.name }}</td>
                        <td> {{ researcher.surname }}</td>
                        {% if researcher.last_updated: %}
                            <td> <script> document.write(moment('{{ researcher.last_updated}}').fromNow()); </script> </td>
                        {% else: %}
                            <td> {{researcher.last_updated}} </td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endif %}

<script type="text/javascript">

$(function(){
    $('#user-table').DataTable();
});

</script>

{% endblock %}